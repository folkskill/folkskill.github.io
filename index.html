<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>校园介绍 - 主页</title>
    <!-- 预加载背景图片 -->
    <link rel="preload" as="image" href="images/campus_bg.png">
    <style>
        body {
            margin: 0;
            padding: 80px 20px 20px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-image: url('images/campus_bg.png');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            background-repeat: no-repeat;
            background-color: #f0f4f8; /* 背景过渡色 */
            color: #333;
            min-height: 100vh;
        }
        .content {
            max-width: 900px;
            margin: 0 auto;
            padding: 30px;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            border-radius: 12px;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.15);
        }
        h1 {
            color: #2c6ecb;
            border-bottom: 2px solid #f0f0f0;
            padding-bottom: 10px;
        }
        h2 {
            color: #444;
            margin-top: 30px;
        }
        ul {
            line-height: 1.8;
            padding-left: 20px;
        }
        /* 轮播图样式 */
        .carousel-container {
           position: relative;
           width: 100%;
           max-width: 1000px;
           overflow: hidden;
           border-radius: 8px;
           box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
           margin: 20px auto;
           /* 添加固定比例容器 */
           padding-top: 50%; /* 16:9 宽高比 */
        }
        .carousel-slide {
            display: flex;
            transition: transform 0.5s ease;
            /* 绝对定位以适应比例容器 */
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }
        .carousel-img {
            /* 修改图片样式确保比例合适并居中 */
            width: 100%;
            height: 100%;
            flex-shrink: 0;
            object-fit: cover; /* 保持比例并覆盖容器 */
            object-position: center; /* 图片居中显示 */
        }
        /* 轮播控制按钮 */
        .carousel-prev, .carousel-next {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.5);
            color: white;
            border: none;
            padding: 15px 10px;
            cursor: pointer;
            font-size: 24px;
            transition: background 0.3s ease;
        }
        .carousel-prev:hover, .carousel-next:hover {
            background: rgba(0, 0, 0, 0.7);
        }
        .carousel-prev {
            left: 10px;
        }
        .carousel-next {
            right: 10px;
        }
        /* 轮播指示器 */
        .carousel-indicators {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 10px;
        }
        .indicator {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            cursor: pointer;
            transition: background 0.3s ease;
        }
        .indicator.active {
            background: white;
        }
        /* 定义基础晃动动画 */
        @keyframes shake {
            0%, 100% { transform: translateX(0) rotate(0deg); }
            25% { transform: translateX(var(--x-offset)) rotate(var(--angle)); }
            75% { transform: translateX(calc(-1 * var(--x-offset))) rotate(calc(-1 * var(--angle))); }
        }

        /* 应用动画到链接 */
        .shake-animation {
            display: inline-block;
            --x-offset: 1px;
            --angle: 1deg;
            animation: shake 0.2s infinite;
        }
        /* 定义颜色渐变动画 */
        @keyframes colorGradient {
            0% {
                background-position: 0% 50%;
            }
            50% {
                background-position: 100% 50%;
            }
            100% {
                background-position: 0% 50%;
            }
        }

        .feature-title::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background-color: #2c6ecb;
        }

        .feature-list {
            list-style-type: none;
            padding: 0;
        }

        .feature-item {
            background-color: rgba(255, 255, 255, 0.9);
            border-left: 4px solid #2c6ecb;
            border-radius: 4px;
            margin-bottom: 15px;
            padding: 20px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }

        .feature-item:hover {
            transform: translateX(5px);
        }

        .feature-item h3 {
            color: #444;
            margin-top: 0;
            margin-bottom: 10px;
        }

        .feature-item p {
            color: #666;
            line-height: 1.6;
            margin: 0;
        }
        .feature-item span del {
            color: #a9a9a9;
            font-size: 12px;
        }
        /* 为不包含 del 标签的 span 标签设置颜色和添加 shake 动画 */
        .feature-item span:not(:has(del)) {
            color: #2c6ecb; /* 橙色，可根据需求调整 */
            --x-offset: 1px;
            --angle: 1deg;
            animation: shake 0.2s infinite;
        }
        /* 新增校园简介样式 */
        .campus-intro {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 25px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
            margin: 20px 0;
            line-height: 1.8;
            text-align: justify;
        }

        .campus-intro p {
            margin: 15px 0;
            color: #333;
            font-size: 16px;
        }

        .campus-intro p:first-child {
            margin-top: 0;
        }

        .campus-intro p:last-child {
            margin-bottom: 0;
        }
        /* 新增访问计数卡片样式 */
        /* 移除以下样式 */
        /*
        .visit-count-card {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
            text-align: center;
            max-width: 400px;
            object-position: left;
        }
        .visit-count-card p {
            line-height: 1.5;
        }
        .visit-count-card #visitCount {
            font-weight: bold;
            font-size: 40px;
            display: block;
        }
        .author-info {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
            text-align: center;
            max-width: 400px;
            object-position: right;
        }
        .author-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
        }
        .top-section {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 20px;
        }
        */

        /* 新增综合卡片样式 */
        .combined-card {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
            text-align: center;
            /* 移除最大宽度限制 */
            /* max-width: 400px; */
            margin: 0 10px 20px;
            flex: 1; /* 让卡片占据可用空间 */
            font-size: 20px;
        }

        /* 让综合卡片内的 p 标签占据所有空间 */
        .combined-card p {
            margin: 0;
            padding: 5px 0;
        }
        
        /* 补充头像圆角样式 */
        .combined-card .author-avatar {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            object-fit: cover;
        }
            
        /* 补充访问计数加粗样式 */
        .combined-card #visitCount {
            font-weight: bold;
            font-size: 40px;
            display: block;
        }

        /* 新增横向容器样式 */
        .horizontal-container {
            display: flex;
            width: 100%;
            justify-content: space-between;
            margin-bottom: 20px;
        }

        /* 新增计数器 +1 动画 */
        @keyframes countUpAnimation {
            0% {
                transform: scale(1);
                color: inherit;
            }
            50% {
                transform: scale(1.3);
                color: rgba(49, 205, 0, 0.74);
            }
            100% {
                transform: scale(1);
                color: inherit;
            }
        }

        .count-up-animation {
            animation: countUpAnimation 0.5s ease-in-out;
        }

        /* 修改留言板样式 */
        .message-board {
            background-color: rgba(255, 255, 255, 0.95);
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.08);
            margin: 20px 0;
            overflow: hidden;
            max-height: 60px; /* 默认只显示标题 */
            transition: max-height 0.5s ease-out;
        }

        .message-board.expanded {
            max-height: 1000px; /* 足够大的值以显示所有内容 */
        }

        .message-board-toggle {
            background: none;
            border: none;
            color: #2c6ecb;
            cursor: pointer;
            font-size: 16px;
            padding: 0;
            margin-bottom: 15px;
            display: block;
        }

        .message-input-container {
            display: flex;
            justify-content: flex-end;
            gap: 15px; /* 调整按钮和输入框间距 */
            margin-bottom: 20px;
        }

        .message-input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            vertical-align: middle;
        }

        .submit-btn {
            padding: 10px 20px;
            background-color: #2c6ecb;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .submit-btn:hover {
            background-color: #235aa7;
        }

        .message-list {
            list-style: none;
            padding: 0;
            margin-top: 20px;
        }

        .message-item {
            background-color: white;
            border-left: 4px solid #2c6ecb;
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 10px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .message-content {
            margin-bottom: 5px;
        }

        .message-time {
            font-size: 12px;
            color: #999;
        }
    </style>
</head>
<body>
        <!-- 引入导航栏 -->
        <iframe src="navbar.html" width="100%" height="60px" frameborder="0" scrolling="no" style="position: fixed; top: 0; left: 0; z-index: 999;"></iframe>
        <div class="content">
        <!-- 主页内容 -->
        <h1 style="object-position: center; text-align: center;">
            🎉<a style="" class="color-gradient-animation" id="shakeElement">汾阳五中</a>
            <a style="color:#a9a9a9; font-size: 12px" class="shake-animation"><del>(介绍)</del></a>
            <a class="color-gradient-animation">恶搞网站</a>🎉
        </h1>
        <!-- 新增访问计数卡片 -->
        <div class="horizontal-container">
            <div class="combined-card">
                <p>
                <p></p><p></p>
                    你是第
                    <span id="visitCount">0</span>
                    个访问本网站的人！
                </p>
            </div>
            <div class="combined-card">
                <img src="images/author.jpg" alt="作者头像" class="author-avatar">
                <p>folkskill</p>
                <p>我不会做网站。。。</p>
            </div>
        </div>

        <h2 style="text-align: center; max-width: fit-content; margin: 0 auto;">
            我们<a style="color:#a9a9a9; font-size:12px;">
            <del>的校园网站</del></a>
            <strong>和老师、领导们的爱巢💗💦</strong>
        </h2>
        <!-- 轮播图集 -->
        <div class="carousel-container">
            <div class="carousel-slide" id="carouselSlide">
                <img src="images/campuses/campus1.png" alt="校园风光1" class="carousel-img">
                <img src="images/campuses/campus2.png" alt="校园风光2" class="carousel-img">
                <img src="images/campuses/campus3.png" alt="校园风光3" class="carousel-img">
                <img src="images/campuses/campus4.png" alt="校园风光4" class="carousel-img">
            </div>
            <button class="carousel-prev" id="prevBtn">❮</button>
            <button class="carousel-next" id="nextBtn">❯</button>
            <div class="carousel-indicators" id="indicators"></div>
        </div>
        <div class="campus-intro">
            <h1 style="font-size: 20px"><a href="https://baike.baidu.com/item/%E6%B1%BE%E9%98%B3%E5%B8%82%E7%AC%AC%E4%BA%94%E9%AB%98%E7%BA%A7%E4%B8%AD%E5%AD%A6%E6%A0%A1/62564567">
                汾阳五中</a> 简介</h1>
            <p>于 2005 年 在汾阳这片钟灵毓秀之地应运而生。悠悠岁月，它本应在教育的行程中熠熠生辉，成为莘莘学子梦想启航的港湾，然而现实却令人扼腕叹息。</p>

            <p>学校对外宣称秉持“以学生为中心，以服务为基础，以创新为驱动”的办学理念，看似高瞻远瞩，实则徒有其表。在实际的教育实践里，成绩至上的功利思想如乌云般笼罩着校园，填鸭式教学如同冰冷的流水线，无情地消磨着学生的个性与创造力，学生仿佛被囚禁在成绩牢笼里的鸟儿，难以展翅翱翔。</p>

            <p>谈及校园环境，与宣传中的“世外桃源”相去甚远。漫步校园，本应是绿树成荫、花香扑鼻的美景致，呈现在眼前的却是植被杂乱无章、无人问津的荒芜之景，花草树木在缺乏养护的环境中艰难求生。所谓的休闲广场，设施陈旧老化，斑驳的痕迹诉说着岁月的沧桑，安全隐患如同隐藏的暗礁，随时可能为学生带来危险，而学校却对此视而不见。学校的教室、宿舍等建筑，外观似饱经风霜的老者，破旧而沧桑，内部空间狭小逼仄、潮湿阴暗，仿佛被遗忘的角落，极大影响学生的学习热情和生活质量。</p>
        </div>
        <ul class="feature-list">
            <li class="feature-item">
                <h3>
                    <span style="font-size: 12px; color: #a9a9a9;">
                        <del>优秀</del>
                    </span>
                    <span>差劲到爆</span>
                    的师资力量
                </h3>
                <p>
                    我们拥有一支
                    <span style="font-size: 12px; color: #a9a9a9;">
                        <del>经验丰富、专业素养高</del>
                    </span>
                    <span>经验匮乏、专业能力甚至没我八十岁老奶强</span>
                    的教师队伍，其中
                    <span style="font-size: 12px; color: #a9a9a9;">
                        <del>高级教师</del>
                    </span>
                    <span>低水平脑瘫幼儿园保姆</span>
                    占比达 40%，他们
                    <span style="font-size: 12px; color: #a9a9a9;">
                        <del>教学方法独特</del>
                    </span>
                    <span>教学方法令人窒息</span>，还
                    <span style="font-size: 12px; color: #a9a9a9;">
                        <del>注重培养学生的综合素质和创新</del>
                    </span>
                    <span>把学生当傻瓜一样对待</span>，对学生的成长成才
                    <span style="font-size: 12px; color: #a9a9a9;">
                        <del>非常重视</del>
                    </span>
                    <span>完全忽视</span>。
                </p>
            </li>
            <li class="feature-item">
                <h3>
                    <span style="font-size: 12px; color: #a9a9a9;">
                        <del>现代化</del>
                    </span>
                    <span>落后</span>
                    的教学设施
                </h3>
                <p>
                    学校配备了
                    <span style="font-size: 12px; color: #a9a9a9;">
                        <del>先进</del>
                    </span>
                    <span>陈旧</span>
                    的多媒体教室、实验室、图书馆等教学设施，所有教室安装的
                    <span style="font-size: 12px; color: #a9a9a9;">
                        <del>智能教学系统</del>
                    </span>
                    <span>老旧教学设备</span>，
                    <span style="font-size: 12px; color: #a9a9a9;">
                        <del>为学生提供了优质的学习环境</del>
                    </span>
                    <span>为学生带来了糟糕的学习体验</span>，让学生很难
                    <span style="font-size: 12px; color: #a9a9a9;">
                        <del>更好地掌握知识和技能</del>
                    </span>
                    <span>有效获取知识和技能</span>。
                </p>

            </li>

            <div class="message-board">
                <button class="message-board-toggle">展开留言板 ▼</button>
                <div class="message-input-container">
                    <input type="text" class="message-input" placeholder="请输入留言内容...">
                    <button class="submit-btn">提交留言</button>
                </div>
                <ul class="message-list"></ul>
            </div>

            <script>
                document.addEventListener('DOMContentLoaded', function() {
                    const slideContainer = document.getElementById('carouselSlide');
                    const slides = document.querySelectorAll('.carousel-img');
                    const prevBtn = document.getElementById('prevBtn');
                    const nextBtn = document.getElementById('nextBtn');
                    const indicatorsContainer = document.getElementById('indicators');
                    let slideIndex = 0;
                    let slideInterval;
                    const slideDelay = 5000; // 自动轮播间隔时间(毫秒)

                    // 创建指示器
                    slides.forEach((_, index) => {
                        const indicator = document.createElement('div');
                        indicator.classList.add('indicator');
                        if (index === 0) indicator.classList.add('active');
                        indicator.addEventListener('click', () => goToSlide(index));
                        indicatorsContainer.appendChild(indicator);
                    });
                    const indicators = document.querySelectorAll('.indicator');

                    // 更新轮播图位置
                    function updateSlidePosition() {
                        const slideWidth = slides[0].offsetWidth;
                        slideContainer.style.transform = `translateX(-${slideIndex * slideWidth}px)`;
                        // 更新指示器状态
                        indicators.forEach((indicator, index) => {
                            indicator.classList.toggle('active', index === slideIndex);
                        });
                    }

                    // 切换到指定幻灯片
                    function goToSlide(index) {
                        if (index < 0) {
                            slideIndex = slides.length - 1;
                        } else if (index >= slides.length) {
                            slideIndex = 0;
                        } else {
                            slideIndex = index;
                        }
                        updateSlidePosition();
                    }

                    // 下一张幻灯片
                    function nextSlide() {
                        goToSlide(slideIndex + 1);
                    }

                    // 上一张幻灯片
                    function prevSlide() {
                        goToSlide(slideIndex - 1);
                    }

                    // 开始自动轮播
                    function startSlideInterval() {
                        slideInterval = setInterval(nextSlide, slideDelay);
                    }

                    // 停止自动轮播
                    function stopSlideInterval() {
                        clearInterval(slideInterval);
                    }

                    // 事件监听
                    prevBtn.addEventListener('click', () => {
                        prevSlide();
                        stopSlideInterval();
                        startSlideInterval();
                    });

                    nextBtn.addEventListener('click', () => {
                        nextSlide();
                        stopSlideInterval();
                        startSlideInterval();
                    });

                    // 鼠标悬停时暂停轮播
                    slideContainer.addEventListener('mouseenter', stopSlideInterval);
                    slideContainer.addEventListener('mouseleave', startSlideInterval);

                    // 窗口大小改变时重新计算位置
                    window.addEventListener('resize', updateSlidePosition);

                    // 启动自动轮播
                    startSlideInterval();

                    <!-- 访问计数功能实现 -->
                    function updateVisitCount() {
                        let visitCount = localStorage.getItem('visitCount');
                        if (visitCount === null) {
                            visitCount = 1;
                        } else {
                            visitCount = parseInt(visitCount, 10) + 1;
                        }
                        localStorage.setItem('visitCount', visitCount);
                        const countElement = document.getElementById('visitCount');
                        countElement.textContent = visitCount;
                        countElement.classList.add('count-up-animation');

                        // 动画结束后移除类名，以便下次加载时能再次触发动画
                        countElement.addEventListener('animationend', () => {
                            countElement.classList.remove('count-up-animation');
                        });
                    }

                    // 执行访问计数更新
                    updateVisitCount();
                    const messageInput = document.querySelector('.message-input');
                    const submitBtn = document.querySelector('.submit-btn');
                    const messageList = document.querySelector('.message-list');
                    const messageBoardToggle = document.querySelector('.message-board-toggle');
                    const messageBoard = document.querySelector('.message-board');

                    // 模拟从文件读取留言
                    async function loadMessages() {
                        try {
                            const response = await fetch('messages.json');
                            if (!response.ok) throw new Error('读取留言失败');
                            const messages = await response.json();
                            messageList.innerHTML = '';
                            messages.forEach(message => addMessageToDOM(message));
                        } catch (error) {
                            console.error('加载留言失败:', error);
                        }
                    }

                    // 添加留言到 DOM
                    function addMessageToDOM(message) {
                        const li = document.createElement('li');
                        li.className = 'message-item';
                        li.innerHTML = `
                            <div class="message-content">${message.content}</div>
                            <div class="message-time">${message.time}</div>
                        `;
                        messageList.prepend(li);
                    }

                    // 模拟保存留言到文件
                    async function saveMessage(message) {
                        try {
                            // 先读取现有留言
                            const response = await fetch('messages.json');
                            if (!response.ok) throw new Error('读取留言失败');
                            let messages = await response.json();

                            // 添加新留言
                            messages.unshift(message);

                            // 限制留言数量为 20 条
                            if (messages.length > 20) {
                                messages.pop();
                            }

                            // 模拟保存成功后更新 UI
                            messageList.innerHTML = '';
                            messages.forEach(msg => addMessageToDOM(msg));
                        } catch (error) {
                            console.error('保存留言失败:', error);
                        }
                    }

                    // 提交留言
                    submitBtn.addEventListener('click', () => {
                        const content = messageInput.value.trim();
                        if (content) {
                            const message = {
                                content: content,
                                time: new Date().toLocaleString()
                            };
                            saveMessage(message);
                            messageInput.value = '';
                        }
                    });

                    // 留言板展开/折叠
                    messageBoardToggle.addEventListener('click', () => {
                        messageBoard.classList.toggle('expanded');
                        messageBoardToggle.textContent = messageBoard.classList.contains('expanded') ? '折叠留言板 ▲' : '展开留言板 ▼';
                    });

                    loadMessages()
                });
            </script>
        </ul>
        </div>
        </body>
</html>